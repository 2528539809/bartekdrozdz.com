var Framework={version:"0.1",build:18,date:"2014-07-15T06:44:32.094Z"};window.Simplrz=function(){var e={},t=["js"],n=function(n,r){var i=r();e[n]=i?!0:!1,t.push(i?n:"no-"+n),document.documentElement.setAttribute("class",t.join(" "))};e.pixelRatio=window.devicePixelRatio||1;var r=function(){var e="",t="",n="";return window.getComputedStyle&&(e=window.getComputedStyle(document.documentElement,""),t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1],n="WebKit|Moz|MS|O".match(new RegExp("("+t+")","i"))[1]),{dom:n,lowercase:t,css:"-"+t+"-",js:""==t?"":t[0].toUpperCase()+t.substr(1)}}();e.prefix=r,t.push(r.lowercase),e.prefixedProp=function(e){switch(r.lowercase){case"webkit":return"webkit"+e.charAt(0).toUpperCase()+e.slice(1);case"ms":return"-ms-"+e;case"moz":return"Moz"+e.charAt(0).toUpperCase()+e.slice(1);default:return r.css+e}};var i=function(){for(var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",n[0];);return e>4?e:null}();if(null==i){var a=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),o=navigator.userAgent,u=o.match(a);i=u&&u.length>1?parseInt(u[1]):null}return e.ie=i||!1,t.push(i?"ie-"+i:"no-ie"),e.firefox="moz"==r.lowercase,t.push(e.firefox?"firefox":"no-firefox"),e.safariDesktop=navigator.userAgent.match(/Safari/)&&!navigator.userAgent.match(/Chrome/)&&!("ontouchstart"in document),t.push(e.safariDesktop?"safari-desktop":"no-safari-desktop"),e.ipad7=navigator.userAgent.match(/iPad;.*CPU.*OS 7_\d/i)||!1,t.push(e.ipad7?"ipad7":"no-ipad7"),n("css3d",function(){if("webkit"==r.lowercase||"moz"==r.lowercase)return!0;if("ms"==r.lowercase){var e=document.createElement("div");e.style[r.css+"transform"]="translateZ(0px)";var t=getComputedStyle(e),n=t.getPropertyValue(r.css+"transform");return n&&""!=n&&"none"!=n}return!1}),n("csstransitions",function(){return!i||i>=10}),n("cssanimations",function(){return!i||i>=10}),n("css2d",function(){return!i||i>=9}),n("touch",function(){return"ontouchstart"in document}),n("pointer",function(){return navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1}),n("canvas",function(){try{var e=document.createElement("canvas");return e.getContext("2d")}catch(t){return!1}}),n("history",function(){return!(!window.history||!history.pushState)}),n("webrtc",function(){return"getUserMedia"in navigator||"webkitGetUserMedia"in navigator}),n("webgl",function(){try{var e=document.createElement("canvas");return!!window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl"))}catch(t){return!1}}),e.classes=t,e}(),Events=function(e,t){var n,r,i=e||{},a={},o={},u=[],s=[];return i.on=function(e,t,n){a[e]||(a[e]=[]),a[e].push(t),n&&(o[t]=n)},i.off=function(e,t,r){r?(u.push(arguments),n=u.length):a[e]&&a[e].splice(t,1)},t||(i.offAll=function(e,t){for(var n=a[e],r=ex.length,o=0;r>o;o++)i.off(e,n[o],t)}),i.trigger=function(e,t,c){if(c)return s.push(arguments),void(r=s.length);if(a[e])for(var l=0,f=a[e].length;f>l;){var d=a[e][l];d.call(o[d],t),l++}if(n>0){for(var l=0;n>l;l++){var m=u[l];i.off(m[0],m[1],!1)}u=[],n=0}if(r>0){var h=s.shift();r=s.length,i.trigger(h[0],h[1])}},i},Application=function(e){var t,n=Events({},!0);return n.init=function(){t=HistoryRouter(n),t.init(),e.addEventListener("resize",function(e){n.trigger(MSG.RESIZE,e)}),e.addEventListener("orientationchange",function(e){n.trigger(MSG.RESIZE,e)}),e.FrameImpulse&&e.Anm&&FrameImpulse.on(Anm.update)},n}(window);var DomExtend=function(){var e={};return e.create=function(t){var n=document.createElement(t);return e.extend(n),n},e.select=function(t,n){var r=(n||document).querySelector(t);return r&&!r.ext&&e.extend(r),r},e.selectAll=function(t,n){for(var r=(n||document).querySelectorAll(t),i=r.length,a=[],o=0;i>o;o++){var u=r[o];u.ext||(u=e.extend(u)),a.push(u)}return a},e.extend=function(t){if(!t.ext){var n={};return n.create=function(t){return e.create(t)},n.select=function(n){return e.select(n,t)},n.selectAll=function(n){return e.selectAll(n,t)},window.State&&State(n,t),window.Transform&&Transform(n,t),window.Transition&&Transition(n,t),n.element=t,t.ext=n,t}},e.extend(document),window.EXT=e,e}();State=function(e,t){var n=function(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})};e.data={},e.show=function(e){t.style.display=e||"block"},e.hide=function(){t.style.display="none"},e.visible=function(){return"none"!=e.readCss("display")},e.on=function(e,n,r){return t.addEventListener(e,n,r)},e.off=function(e,n,r){return t.removeEventListener(e,n,r)},e.css=function(e,r){if("string"==typeof e)t.style[n(e)]=r;else for(var i in e)t.style[n(e)]=e[i]},e.readCss=function(e,n){return n?t.style[e]:getComputedStyle(t).getPropertyValue(e)},e.attr=function(e,n){return void 0!=n&&t.setAttribute(e,n),t.getAttribute(e)}},Transform=function(e,t){var n=!1;e.rect=function(){return t.getBoundingClientRect()},e.width=function(n){return n?(t.style.width=n+"px",n):e.rect().width},e.height=function(n){return n?(t.style.height=n+"px",n):e.rect().height},e.x=0,e.y=0,e.z=0,e.rotX=0,e.rotY=0,e.rotZ=0,e.scaleX=1,e.scaleY=1,e.scaleZ=1,e.transformToString=function(t){t=t||e;var r="";return t.x&&(r+="translateX("+t.x+"px) "),t.y&&(r+="translateY("+t.y+"px) "),Simplrz.css3d&&!n&&(r+="translateZ("+t.z+"px) "),t.rotX&&Simplrz.css3d&&(r+="rotateX("+t.rotX+"deg)  "),t.rotY&&Simplrz.css3d&&(r+="rotateY("+t.rotY+"deg)"),t.rotZ&&Simplrz.css3d?r+="rotateZ("+t.rotZ+"deg) ":t.rotZ&&(r+="rotate("+t.rotZ+"deg) "),1!=t.scaleX&&(r+="scaleX("+t.scaleX+") "),1!=t.scaleY&&(r+="scaleY("+t.scaleY+") "),1!=t.scaleZ&&Simplrz.css3d&&(r+="scaleZ("+t.scaleZ+")"),r},e.transform=function(r){if(r)for(var i in r)e[i]=r[i];var a=e.transformToString(e,n);t.style[Simplrz.prefixedProp("transform")]=a,t.style.transform=a}},Transition=function(e,t){var n={transition:"transitionEnd",Moz:"transitionend",O:"oTransitionEnd",Webkit:"webkitTransitionEnd",Ms:"MSTransitionEnd"},r=n[Simplrz.prefix.js],i="transform",a=function(){return(new Date).getTime()};e.createTransition=function(){function n(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}var o,u,s,c,l={},f=[],d=[],m=0,h=function(){if(u--,0>=u){var e=a()-s;e>=m?p():c||(setTimeout(p,e),c=!0)}},p=function(){l.clear(),o&&o()},v=function(n){for(var r=n.length,a=0;r>a;a++){var o=n[a][0],u=n[a][1];o==i?e.transform(u):t.style[o]=u}return l};return l.add=function(e,t,r,i,a){return m=Math.max(m,r),i=i||Util.cssEase.ease,a=a||0,f.push([n(e),r+"ms",i,a+"ms"].join(" ")),d.push([e,t]),l},l.trs=function(e,t,n,r){return m=Math.max(m,t),n=n||Util.cssEase.ease,r=r||0,f.push([Simplrz.prefix.css+"transform",t+"ms",n,r+"ms"].join(" ")),d.push([i,e]),l},l.clear=function(){t.removeEventListener(r,h),f=[],d=[],t.style[Simplrz.prefix.js+"Transition"]="",t.style.transition=""},l.start=function(e){return o=e,u=d.length,t.addEventListener(r,h),setTimeout(function(){s=a(),c=!1,t.style[Simplrz.prefix.js+"Transition"]=f,t.style.transition=f,v(d)},0),l},l.then=function(t){var n=e.createTransition(),r=function(){t(),n.start()};return l.start(r),n},l},e.transition=function(t,n,r,a,o){var u=e.createTransition();for(var s in t){var c=t[s];s==i?u.trs(c,n,r,a):u.add(s,c,n,r,a)}return u.start(o),u}},FrameImpulse=function(){var e,t,n=["webkit","moz"],r=0,i=0,a=0,o=16,u=60,s=60,c=1e3,l={},f=[],d=0,m=[];l.fps=60;for(var h=0;h<n.length&&!window.requestAnimationFrame;++h)window.requestAnimationFrame=window[n[h]+"RequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-r)),i=window.setTimeout(function(){e(t+n)},n);return r=t+n,i});var p=function(t){i++;var n=t-r;isNaN(n)&&(n=1e3/60),r=t,a+=n,o=(n+o*(c-1))/c,u=1e3/o,s=Math.min(u,s),l.fps=isNaN(u)||!u?60:u,l.fpsNow=1e3/n,l.fpsLow=s,e&&(e.innerHTML=o>20?"<b>"+(0|u)+"</b> | "+(0|o):(0|u)+" | "+(0|o))},v=function(e){if(requestAnimationFrame(v),p(e),0!=d){for(var n=0;d>n;n++)f[n].call(e);if(t>0){for(var n=0;t>n;n++)f.splice(m[n],1);d=f.length,m=[],t=0}}};return l.on=function(e){f.indexOf(e)>-1||(f.push(e),d=f.length)},l.off=function(e){m.push(e),t=m.length},l.getListeners=function(){return f},v(),l}(),HistoryRouter=function(e){var t=document.location.protocol+"//"+(document.location.hostname||document.location.host);document.location.port&&(t+=":"+document.location.port);var n,r,i=function(){if(Simplrz.history)for(var e="a[href]",t=EXT.selectAll(e),n=0;n<t.length;n++){var r=t[n],i=r.ext.attr("href"),a=r.ext.attr("target"),o=r.ext.attr("data-hj");if(!(i.indexOf(":")>-1||"_blank"==a||"no"==o||r.hijacked)){r.hijacked=!0;var s=function(e){e&&e.preventDefault(),u(this.href)};Simplrz.touch?Util.handleTap(r,s):r.addEventListener("click",s)}}},a=!1,o=function(){var i=n.substring(t.length),a=i.split("/");a.shift(),e.trigger(MSG.ROUTE,{route:i,parts:a,prevRoute:r})},u=function(e){Simplrz.history&&history.pushState(null,null,e),r=n?n.replace(t,""):null,n=document.location.href,o()};return window.addEventListener("popstate",function(){a=!0,r=n?n.replace(t,""):null,n=document.location.href,o()}),e.on(MSG.HIJACK_LINKS,i),e.on(MSG.NAVIGATE,u),setTimeout(function(){a?console.log("History initiated, no manual push."):u()},20,document.location.href),{init:function(){i()}}},window.Loader={loadText:function(e,t){var n=new XMLHttpRequest;n.open("GET",e),n.onreadystatechange=function(){4==n.readyState&&t.call(null,n.responseText)},n.send()},loadJSON:function(e,t){Loader.loadText(e,function(e){t(JSON.parse(e))})},loadImage:function(e,t){var n=new Image;n.onload=t(n),n.src=e}},MSG={ROUTE:"route",RESIZE:"resize",HIJACK_LINKS:"hijack-links",NAVIGATE:"navigate"};var VirtualScroll=function(e){var t,n,r,i,a={},o=[],u=!1,s=2,c=5,l=120,f="onwheel"in e,d="onmousewheel"in e,m="ontouchstart"in e,h=navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,p=!!window.navigator.msPointerEnabled,v="onkeydown"in e,g=navigator.platform.indexOf("Win")>-1&&navigator.userAgent.indexOf("Firefox")>-1,w={y:0,x:0,deltaX:0,deltaY:0,originalEvent:null};a.on=function(e){u||z(),o.push(e),t=o.length},a.off=function(e){o.splice(e,1),t=o.length,0>=t&&M()};var b=function(e){w.x+=w.deltaX,w.y+=w.deltaY,w.originalEvent=e;for(var n=0;t>n;n++)o[n](w)},x=function(e){w.deltaX=e.wheelDeltaX||-1*e.deltaX,w.deltaY=e.wheelDeltaY||-1*e.deltaY,g&&(w.deltaX*=c,w.deltaY*=c),b(e)},E=function(e){w.deltaX=e.wheelDeltaX?e.wheelDeltaX:0,w.deltaY=e.wheelDeltaY?e.wheelDeltaY:e.wheelDelta,b(e)},y=function(e){var t=e.targetTouches?e.targetTouches[0]:e;n=t.pageX,r=t.pageY},T=function(e){var t=e.targetTouches?e.targetTouches[0]:e;w.deltaX=(t.pageX-n)*s,w.deltaY=(t.pageY-r)*s,n=t.pageX,r=t.pageY,b(e)},S=function(e){switch(w.deltaX=w.deltaY=0,e.keyCode){case 37:w.deltaX=-l;break;case 39:w.deltaX=l;break;case 38:w.deltaY=l;break;case 40:w.deltaY=-l}b(e)},z=function(){f&&e.addEventListener("wheel",x),d&&e.addEventListener("mousewheel",E),m&&(e.addEventListener("touchstart",y),e.addEventListener("touchmove",T)),p&&h&&(i=e.body.style.msTouchAction,e.body.style.msTouchAction="none",e.addEventListener("MSPointerDown",y,!0),e.addEventListener("MSPointerMove",T,!0)),v&&e.addEventListener("keydown",S),u=!0},M=function(){f&&e.removeEventListener("wheel",x),d&&e.removeEventListener("mousewheel",E),m&&(e.removeEventListener("touchstart",y),e.removeEventListener("touchmove",T)),p&&h&&(e.body.style.msTouchAction=i,e.removeEventListener("MSPointerDown",y,!0),e.removeEventListener("MSPointerMove",T,!0)),v&&e.removeEventListener("keydown",S),u=!1};return a}(document);Pointer=function(){var e={x:0,y:0};return Simplrz.touch?document.addEventListener("touchmove",function(t){var n=t.targetTouches?t.targetTouches[0]:t;e.x=n.pageX,e.y=n.pageY}):document.addEventListener("mousemove",function(t){e.x=t.pageX,e.y=t.pageY}),e}(),Math.clamp=function(e,t,n){return t>e?t:e>n?n:e},Math.clamp01=function(e){return 0>e?0:e>1?1:e},Math.pointInRect=function(e,t){return e.x>=t.left&&e.x<=t.right&&e.y>=t.top&&e.y<=t.bottom},Math.randomBtwn=function(e,t){return e+Math.random()*(t-e)},Math.norm=function(e,t,n){return(e-t)/(n-t)},Math.map=function(e,t,n,r,i){return Math.lerp(r,i,Math.norm(e,t,n))},Math.lerp=function(e,t,n){return e+(t-e)*n},Math.hexToRgb=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},Util={handleTap:function(e,t){var n=function(){var n,r,i,a={},o=2e4,u=100,s=e,c=t;return a.click=function(e){e.preventDefault()},a.touchStart=function(e){e.preventDefault(),n=(new Date).getTime(),r=e.targetTouches[0].pageX,i=e.targetTouches[0].pageY},a.touchEnd=function(e){e.preventDefault();var t=(new Date).getTime()-n,a=e.changedTouches[0].pageX-r,l=e.changedTouches[0].pageY-i,f=a*a+l*l;o>t&&u>f&&c.apply(s)},a}();return e.addEventListener("touchstart",n.touchStart),e.addEventListener("touchend",n.touchEnd),e.addEventListener("click",n.click),n},delay:function(e,t,n){t=t||0,setTimeout(function(){e.apply(n)},t)},debounce:function(e,t){var n,r,i,a,o;return function(){i=this,r=arguments,a=Date.now();var u=function(){var e=Date.now()-a;n=t>e?setTimeout(u,t-e):null};return n||(n=setTimeout(u,t),o=e.apply(i,r),i=r=null),o}},cssEase:{ease:"ease",smoothstep:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"}};