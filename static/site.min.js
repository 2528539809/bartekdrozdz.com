var Config={vscrollEnabled:!0,scrollMargin:0};Config.vscrollEnabled&&(document.querySelector("#main").style.overflowY="hidden",document.querySelector("#about").style.overflowY="hidden",document.querySelector("#content").style.overflowY="hidden",document.querySelector("#content").style.pointerEvents="none"),window.scroll(0,1),(location.host.indexOf("localhost")>-1||location.host.indexOf("192.168")>-1)&&document.write('<script src="http://'+(location.host||"localhost").split(":")[0]+':35729/livereload.js?snipver=1"></'+"script>"),window.addEventListener("load",function(){Loader.loadJSON("/data",function(e){Data.setMain(e),Site(),MainPanel(),AboutPanel(),ContentPanel(),Router()})}),function(e){e.Data=function(){var e,t={};return t.setMain=function(t){e=t},t.getMain=function(){return e},t.getProjectById=function(t){var n,r,a=e.projects.length,o=e.play.length;for(r=0;a>r;r++)if(n=e.projects[r],n.id==t)return n;for(r=0;o>r;r++)if(n=e.play[r],n.id==t)return n},t}()}("undefined"!=typeof process&&process.versions?exports:window),window.Modernizr=function(e,t,n){function r(e){S.cssText=e}function a(e,t){return r(C.join(e+";")+(t||""))}function o(e,t){return typeof e===t}function i(e,t){return!!~(""+e).indexOf(t)}function s(e,t){for(var r in e){var a=e[r];if(!i(a,"-")&&S[a]!==n)return"pfx"==t?a:!0}return!1}function c(e,t,r){for(var a in e){var i=t[e[a]];if(i!==n)return r===!1?e[a]:o(i,"function")?i.bind(r||t):i}return!1}function u(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+x.join(r+" ")+r).split(" ");return o(t,"string")||o(t,"undefined")?s(a,t):(a=(e+" "+T.join(r+" ")+r).split(" "),c(a,t,n))}function l(){h.input=function(n){for(var r=0,a=n.length;a>r;r++)M[n[r]]=!!(n[r]in b);return M.list&&(M.list=!(!t.createElement("datalist")||!e.HTMLDataListElement)),M}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),h.inputtypes=function(e){for(var r,a,o,i=0,s=e.length;s>i;i++)b.setAttribute("type",a=e[i]),r="text"!==b.type,r&&(b.value=w,b.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(a)&&b.style.WebkitAppearance!==n?(m.appendChild(b),o=t.defaultView,r=o.getComputedStyle&&"textfield"!==o.getComputedStyle(b,null).WebkitAppearance&&0!==b.offsetHeight,m.removeChild(b)):/^(search|tel)$/.test(a)||(r=/^(url|email)$/.test(a)?b.checkValidity&&b.checkValidity()===!1:b.value!=w)),A[e[i]]=!!r;return A}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d,f,p="2.6.2",h={},g=!0,m=t.documentElement,y="modernizr",v=t.createElement(y),S=v.style,b=t.createElement("input"),w=":)",E={}.toString,C=" -webkit- -moz- -o- -ms- ".split(" "),I="Webkit Moz O ms",x=I.split(" "),T=I.toLowerCase().split(" "),H={svg:"http://www.w3.org/2000/svg"},O={},A={},M={},B=[],N=B.slice,k=function(e,n,r,a){var o,i,s,c,u=t.createElement("div"),l=t.body,d=l||t.createElement("body");if(parseInt(r,10))for(;r--;)s=t.createElement("div"),s.id=a?a[r]:y+(r+1),u.appendChild(s);return o=["&#173;",'<style id="s',y,'">',e,"</style>"].join(""),u.id=y,(l?u:d).innerHTML+=o,d.appendChild(u),l||(d.style.background="",d.style.overflow="hidden",c=m.style.overflow,m.style.overflow="hidden",m.appendChild(d)),i=n(u,e),l?u.parentNode.removeChild(u):(d.parentNode.removeChild(d),m.style.overflow=c),!!i},j=function(){function e(e,a){a=a||t.createElement(r[e]||"div"),e="on"+e;var i=e in a;return i||(a.setAttribute||(a=t.createElement("div")),a.setAttribute&&a.removeAttribute&&(a.setAttribute(e,""),i=o(a[e],"function"),o(a[e],"undefined")||(a[e]=n),a.removeAttribute(e))),a=null,i}var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),L={}.hasOwnProperty;f=o(L,"undefined")||o(L.call,"undefined")?function(e,t){return t in e&&o(e.constructor.prototype[t],"undefined")}:function(e,t){return L.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=N.call(arguments,1),r=function(){if(this instanceof r){var a=function(){};a.prototype=t.prototype;var o=new a,i=t.apply(o,n.concat(N.call(arguments)));return Object(i)===i?i:o}return t.apply(e,n.concat(N.call(arguments)))};return r}),O.flexbox=function(){return u("flexWrap")},O.canvas=function(){var e=t.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},O.canvastext=function(){return!(!h.canvas||!o(t.createElement("canvas").getContext("2d").fillText,"function"))},O.webgl=function(){return!!e.WebGLRenderingContext},O.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:k(["@media (",C.join("touch-enabled),("),y,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n},O.geolocation=function(){return"geolocation"in navigator},O.postmessage=function(){return!!e.postMessage},O.websqldatabase=function(){return!!e.openDatabase},O.indexedDB=function(){return!!u("indexedDB",e)},O.hashchange=function(){return j("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},O.history=function(){return!(!e.history||!history.pushState)},O.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},O.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},O.rgba=function(){return r("background-color:rgba(150,255,150,.5)"),i(S.backgroundColor,"rgba")},O.hsla=function(){return r("background-color:hsla(120,40%,100%,.5)"),i(S.backgroundColor,"rgba")||i(S.backgroundColor,"hsla")},O.multiplebgs=function(){return r("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(S.background)},O.backgroundsize=function(){return u("backgroundSize")},O.borderimage=function(){return u("borderImage")},O.borderradius=function(){return u("borderRadius")},O.boxshadow=function(){return u("boxShadow")},O.textshadow=function(){return""===t.createElement("div").style.textShadow},O.opacity=function(){return a("opacity:.55"),/^0.55$/.test(S.opacity)},O.cssanimations=function(){return u("animationName")},O.csscolumns=function(){return u("columnCount")},O.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return r((e+"-webkit- ".split(" ").join(t+e)+C.join(n+e)).slice(0,-e.length)),i(S.backgroundImage,"gradient")},O.cssreflections=function(){return u("boxReflect")},O.csstransforms=function(){return!!u("transform")},O.csstransforms3d=function(){var e=!!u("perspective");return e&&"webkitPerspective"in m.style&&k("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t){e=9===t.offsetLeft&&3===t.offsetHeight}),e},O.csstransitions=function(){return u("transition")},O.fontface=function(){var e;return k('@font-face {font-family:"font";src:url("https://")}',function(n,r){var a=t.getElementById("smodernizr"),o=a.sheet||a.styleSheet,i=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"";e=/src/i.test(i)&&0===i.indexOf(r.split(" ")[0])}),e},O.generatedcontent=function(){var e;return k(["#",y,"{font:0/0 a}#",y,':after{content:"',w,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},O.video=function(){var e=t.createElement("video"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(r){}return n},O.audio=function(){var e=t.createElement("audio"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(r){}return n},O.localstorage=function(){try{return localStorage.setItem(y,y),localStorage.removeItem(y),!0}catch(e){return!1}},O.sessionstorage=function(){try{return sessionStorage.setItem(y,y),sessionStorage.removeItem(y),!0}catch(e){return!1}},O.webworkers=function(){return!!e.Worker},O.applicationcache=function(){return!!e.applicationCache},O.svg=function(){return!!t.createElementNS&&!!t.createElementNS(H.svg,"svg").createSVGRect},O.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==H.svg},O.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(E.call(t.createElementNS(H.svg,"animate")))},O.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(E.call(t.createElementNS(H.svg,"clipPath")))};for(var U in O)f(O,U)&&(d=U.toLowerCase(),h[d]=O[U](),B.push((h[d]?"":"no-")+d));return h.input||l(),h.addTest=function(e,t){if("object"==typeof e)for(var r in e)f(e,r)&&h.addTest(r,e[r]);else{if(e=e.toLowerCase(),h[e]!==n)return h;t="function"==typeof t?t():t,"undefined"!=typeof g&&g&&(m.className+=" "+(t?"":"no-")+e),h[e]=t}return h},r(""),v=b=null,function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=y.elements;return"string"==typeof e?e.split(" "):e}function a(e){var t=m[e[h]];return t||(t={},g++,e[h]=g,m[g]=t),t}function o(e,n,r){if(n||(n=t),l)return n.createElement(e);r||(r=a(n));var o;return o=r.cache[e]?r.cache[e].cloneNode():p.test(e)?(r.cache[e]=r.createElem(e)).cloneNode():r.createElem(e),o.canHaveChildren&&!f.test(e)?r.frag.appendChild(o):o}function i(e,n){if(e||(e=t),l)return e.createDocumentFragment();n=n||a(e);for(var o=n.frag.cloneNode(),i=0,s=r(),c=s.length;c>i;i++)o.createElement(s[i]);return o}function s(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return y.shivMethods?o(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(y,t.frag)}function c(e){e||(e=t);var r=a(e);return!y.shivCSS||u||r.hasCSS||(r.hasCSS=!!n(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),l||s(e,r),e}var u,l,d=e.html5||{},f=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,h="_html5shiv",g=0,m={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",u="hidden"in e,l=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){u=!0,l=!0}}();var y={elements:d.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:d.shivCSS!==!1,supportsUnknownElements:l,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:c,createElement:o,createDocumentFragment:i};e.html5=y,c(t)}(this,t),h._version=p,h._prefixes=C,h._domPrefixes=T,h._cssomPrefixes=x,h.hasEvent=j,h.testProp=function(e){return s([e])},h.testAllProps=u,h.testStyles=k,h.prefixed=function(e,t,n){return t?u(e,t,n):u(e,"pfx")},m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(g?" js "+B.join(" "):""),h}(this,this.document),function(e,t,n){function r(e){return"[object Function]"==m.call(e)}function a(e){return"string"==typeof e}function o(){}function i(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function s(){var e=y.shift();v=1,e?e.t?h(function(){("c"==e.t?f.injectCss:f.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),s()):v=0}function c(e,n,r,a,o,c,u){function l(t){if(!p&&i(d.readyState)&&(S.r=p=1,!v&&s(),d.onload=d.onreadystatechange=null,t)){"img"!=e&&h(function(){w.removeChild(d)},50);for(var r in T[n])T[n].hasOwnProperty(r)&&T[n][r].onload()}}var u=u||f.errorTimeout,d=t.createElement(e),p=0,m=0,S={t:r,s:n,e:o,a:c,x:u};1===T[n]&&(m=1,T[n]=[]),"object"==e?d.data=n:(d.src=n,d.type=e),d.width=d.height="0",d.onerror=d.onload=d.onreadystatechange=function(){l.call(this,m)},y.splice(a,0,S),"img"!=e&&(m||2===T[n]?(w.insertBefore(d,b?null:g),h(l,u)):T[n].push(d))}function u(e,t,n,r,o){return v=0,t=t||"j",a(e)?c("c"==t?C:E,e,t,this.i++,n,r,o):(y.splice(this.i++,0,e),1==y.length&&s()),this}function l(){var e=f;return e.loader={load:u,i:0},e}var d,f,p=t.documentElement,h=e.setTimeout,g=t.getElementsByTagName("script")[0],m={}.toString,y=[],v=0,S="MozAppearance"in p.style,b=S&&!!t.createRange().compareNode,w=b?p:g.parentNode,p=e.opera&&"[object Opera]"==m.call(e.opera),p=!!t.attachEvent&&!p,E=S?"object":p?"script":"img",C=p?"script":E,I=Array.isArray||function(e){return"[object Array]"==m.call(e)},x=[],T={},H={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};f=function(e){function t(e){var t,n,r,e=e.split("!"),a=x.length,o=e.pop(),i=e.length,o={url:o,origUrl:o,prefixes:e};for(n=0;i>n;n++)r=e[n].split("="),(t=H[r.shift()])&&(o=t(o,r));for(n=0;a>n;n++)o=x[n](o);return o}function i(e,a,o,i,s){var c=t(e),u=c.autoCallback;c.url.split(".").pop().split("?").shift(),c.bypass||(a&&(a=r(a)?a:a[e]||a[i]||a[e.split("/").pop().split("?")[0]]),c.instead?c.instead(e,a,o,i,s):(T[c.url]?c.noexec=!0:T[c.url]=1,o.load(c.url,c.forceCSS||!c.forceJS&&"css"==c.url.split(".").pop().split("?").shift()?"c":n,c.noexec,c.attrs,c.timeout),(r(a)||r(u))&&o.load(function(){l(),a&&a(c.origUrl,s,i),u&&u(c.origUrl,s,i),T[c.url]=2})))}function s(e,t){function n(e,n){if(e){if(a(e))n||(d=function(){var e=[].slice.call(arguments);f.apply(this,e),p()}),i(e,d,t,0,u);else if(Object(e)===e)for(c in s=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(),e)e.hasOwnProperty(c)&&(!n&&!--s&&(r(d)?d=function(){var e=[].slice.call(arguments);f.apply(this,e),p()}:d[c]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),p()}}(f[c])),i(e[c],d,t,c,u))}else!n&&p()}var s,c,u=!!e.test,l=e.load||e.both,d=e.callback||o,f=d,p=e.complete||o;n(u?e.yep:e.nope,!!l),l&&n(l)}var c,u,d=this.yepnope.loader;if(a(e))i(e,0,d,0);else if(I(e))for(c=0;c<e.length;c++)u=e[c],a(u)?i(u,0,d,0):I(u)?f(u):Object(u)===u&&s(u,d);else Object(e)===e&&s(e,d)},f.addPrefix=function(e,t){H[e]=t},f.addFilter=function(e){x.push(e)},f.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",d=function(){t.removeEventListener("DOMContentLoaded",d,0),t.readyState="complete"},0)),e.yepnope=l(),e.yepnope.executeStack=s,e.yepnope.injectJs=function(e,n,r,a,c,u){var l,d,p=t.createElement("script"),a=a||f.errorTimeout;p.src=e;for(d in r)p.setAttribute(d,r[d]);n=u?s:n||o,p.onreadystatechange=p.onload=function(){!l&&i(p.readyState)&&(l=1,n(),p.onload=p.onreadystatechange=null)},h(function(){l||(l=1,n(1))},a),c?p.onload():g.parentNode.insertBefore(p,g)},e.yepnope.injectCss=function(e,n,r,a,i,c){var u,a=t.createElement("link"),n=c?s:n||o;a.href=e,a.rel="stylesheet",a.type="text/css";for(u in r)a.setAttribute(u,r[u]);i||(g.parentNode.insertBefore(a,g),h(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(){for(var e=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),r=Math.max(0,16-(n-e)),a=window.setTimeout(function(){t(n+r)},r);return e=n+r,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),"object"!=typeof JSON&&(JSON={}),function(){function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,a,o,i,s=gap,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,i=[],"[object Array]"===Object.prototype.toString.apply(c)){for(o=c.length,n=0;o>n;n+=1)i[n]=str(n,c)||"null";return a=0===i.length?"[]":gap?"[\n"+gap+i.join(",\n"+gap)+"\n"+s+"]":"["+i.join(",")+"]",gap=s,a}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],a=str(r,c),a&&i.push(quote(r)+(gap?": ":":")+a));else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(a=str(r,c),a&&i.push(quote(r)+(gap?": ":":")+a));return a=0===i.length?"{}":gap?"{\n"+gap+i.join(",\n"+gap)+"\n"+s+"}":"{"+i.join(",")+"}",gap=s,a}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","  ":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,!t||"function"==typeof t||"object"==typeof t&&"number"==typeof t.length)return str("",{"":e});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,a=e[t];if(a&&"object"==typeof a)for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(r=walk(a,n),void 0!==r?a[n]=r:delete a[n]);return reviver.call(e,t,a)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e,t){var n=e.History=e.History||{};if("undefined"!=typeof n.Adapter)throw new Error("History.js Adapter has already been loaded...");n.Adapter={handlers:{},_uid:1,uid:function(e){return e._uid||(e._uid=n.Adapter._uid++)},bind:function(e,t,r){var a=n.Adapter.uid(e);n.Adapter.handlers[a]=n.Adapter.handlers[a]||{},n.Adapter.handlers[a][t]=n.Adapter.handlers[a][t]||[],n.Adapter.handlers[a][t].push(r),e["on"+t]=function(e,t){return function(r){n.Adapter.trigger(e,t,r)}}(e,t)},trigger:function(e,t,r){r=r||{};var a,o,i=n.Adapter.uid(e);for(n.Adapter.handlers[i]=n.Adapter.handlers[i]||{},n.Adapter.handlers[i][t]=n.Adapter.handlers[i][t]||[],a=0,o=n.Adapter.handlers[i][t].length;o>a;++a)n.Adapter.handlers[i][t][a].apply(this,[r])},extractEventData:function(e,n){var r=n&&n[e]||t;return r},onDomLoad:function(t){var n=e.setTimeout(function(){t()},2e3);e.onload=function(){clearTimeout(n),t()}}},"undefined"!=typeof n.init&&n.init()}(window),function(e){var t=e.document,n=e.setTimeout||n,r=e.clearTimeout||r,a=e.setInterval||a,o=e.History=e.History||{};if("undefined"!=typeof o.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");o.initHtml4=function(){return"undefined"!=typeof o.initHtml4.initialized?!1:(o.initHtml4.initialized=!0,o.enabled=!0,o.savedHashes=[],o.isLastHash=function(e){var t,n=o.getHashByIndex();return t=e===n},o.isHashEqual=function(e,t){return e=encodeURIComponent(e).replace(/%25/g,"%"),t=encodeURIComponent(t).replace(/%25/g,"%"),e===t},o.saveHash=function(e){return o.isLastHash(e)?!1:(o.savedHashes.push(e),!0)},o.getHashByIndex=function(e){var t=null;return t="undefined"==typeof e?o.savedHashes[o.savedHashes.length-1]:0>e?o.savedHashes[o.savedHashes.length+e]:o.savedHashes[e]},o.discardedHashes={},o.discardedStates={},o.discardState=function(e,t,n){var r,a=o.getHashByState(e);return r={discardedState:e,backState:n,forwardState:t},o.discardedStates[a]=r,!0},o.discardHash=function(e,t,n){var r={discardedHash:e,backState:n,forwardState:t};return o.discardedHashes[e]=r,!0},o.discardedState=function(e){var t,n=o.getHashByState(e);return t=o.discardedStates[n]||!1},o.discardedHash=function(e){var t=o.discardedHashes[e]||!1;return t},o.recycleState=function(e){var t=o.getHashByState(e);return o.discardedState(e)&&delete o.discardedStates[t],!0},o.emulated.hashChange&&(o.hashChangeInit=function(){o.checkerFunction=null;var n,r,i,s,c="",u=Boolean(o.getHash());return o.isInternetExplorer()?(n="historyjs-iframe",r=t.createElement("iframe"),r.setAttribute("id",n),r.setAttribute("src","#"),r.style.display="none",t.body.appendChild(r),r.contentWindow.document.open(),r.contentWindow.document.close(),i="",s=!1,o.checkerFunction=function(){if(s)return!1;s=!0;var t=o.getHash(),n=o.getHash(r.contentWindow.document);return t!==c?(c=t,n!==t&&(i=n=t,r.contentWindow.document.open(),r.contentWindow.document.close(),r.contentWindow.document.location.hash=o.escapeHash(t)),o.Adapter.trigger(e,"hashchange")):n!==i&&(i=n,u&&""===n?o.back():o.setHash(n,!1)),s=!1,!0}):o.checkerFunction=function(){var t=o.getHash()||"";return t!==c&&(c=t,o.Adapter.trigger(e,"hashchange")),!0},o.intervalList.push(a(o.checkerFunction,o.options.hashChangeInterval)),!0},o.Adapter.onDomLoad(o.hashChangeInit)),o.emulated.pushState&&(o.onHashChange=function(t){var n,r=t&&t.newURL||o.getLocationHref(),a=o.getHashByUrl(r),i=null,s=null;return o.isLastHash(a)?(o.busy(!1),!1):(o.doubleCheckComplete(),o.saveHash(a),a&&o.isTraditionalAnchor(a)?(o.Adapter.trigger(e,"anchorchange"),o.busy(!1),!1):(i=o.extractState(o.getFullUrl(a||o.getLocationHref()),!0),o.isLastSavedState(i)?(o.busy(!1),!1):(s=o.getHashByState(i),n=o.discardedState(i),n?(o.getHashByIndex(-2)===o.getHashByState(n.forwardState)?o.back(!1):o.forward(!1),!1):(o.pushState(i.data,i.title,encodeURI(i.url),!1),!0))))},o.Adapter.bind(e,"hashchange",o.onHashChange),o.pushState=function(t,n,r,a){if(r=encodeURI(r).replace(/%25/g,"%"),o.getHashByUrl(r))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(a!==!1&&o.busy())return o.pushQueue({scope:o,callback:o.pushState,args:arguments,queue:a}),!1;o.busy(!0);var i=o.createStateObject(t,n,r),s=o.getHashByState(i),c=o.getState(!1),u=o.getHashByState(c),l=o.getHash(),d=o.expectedStateId==i.id;return o.storeState(i),o.expectedStateId=i.id,o.recycleState(i),o.setTitle(i),s===u?(o.busy(!1),!1):(o.saveState(i),d||o.Adapter.trigger(e,"statechange"),!o.isHashEqual(s,l)&&!o.isHashEqual(s,o.getShortUrl(o.getLocationHref()))&&o.setHash(s,!1),o.busy(!1),!0)},o.replaceState=function(t,n,r,a){if(r=encodeURI(r).replace(/%25/g,"%"),o.getHashByUrl(r))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(a!==!1&&o.busy())return o.pushQueue({scope:o,callback:o.replaceState,args:arguments,queue:a}),!1;o.busy(!0);var i=o.createStateObject(t,n,r),s=o.getHashByState(i),c=o.getState(!1),u=o.getHashByState(c),l=o.getStateByIndex(-2);return o.discardState(c,i,l),s===u?(o.storeState(i),o.expectedStateId=i.id,o.recycleState(i),o.setTitle(i),o.saveState(i),o.Adapter.trigger(e,"statechange"),o.busy(!1)):o.pushState(i.data,i.title,i.url,!1),!0}),o.emulated.pushState&&o.getHash()&&!o.emulated.hashChange&&o.Adapter.onDomLoad(function(){o.Adapter.trigger(e,"hashchange")}),void 0)},"undefined"!=typeof o.init&&o.init()}(window),function(e,t){var n=e.console||t,r=e.document,a=e.navigator,o=e.sessionStorage||!1,i=e.setTimeout,s=e.clearTimeout,c=e.setInterval,u=e.clearInterval,l=e.JSON,d=e.alert,f=e.History=e.History||{},p=e.history;try{o.setItem("TEST","1"),o.removeItem("TEST")}catch(h){o=!1}if(l.stringify=l.stringify||l.encode,l.parse=l.parse||l.decode,"undefined"!=typeof f.init)throw new Error("History.js Core has already been loaded...");f.init=function(){return"undefined"==typeof f.Adapter?!1:("undefined"!=typeof f.initCore&&f.initCore(),"undefined"!=typeof f.initHtml4&&f.initHtml4(),!0)},f.initCore=function(){if("undefined"!=typeof f.initCore.initialized)return!1;if(f.initCore.initialized=!0,f.options=f.options||{},f.options.hashChangeInterval=f.options.hashChangeInterval||100,f.options.safariPollInterval=f.options.safariPollInterval||500,f.options.doubleCheckInterval=f.options.doubleCheckInterval||500,f.options.disableSuid=f.options.disableSuid||!1,f.options.storeInterval=f.options.storeInterval||1e3,f.options.busyDelay=f.options.busyDelay||250,f.options.debug=f.options.debug||!1,f.options.initialTitle=f.options.initialTitle||r.title,f.options.html4Mode=f.options.html4Mode||!1,f.options.delayInit=f.options.delayInit||!1,f.intervalList=[],f.clearAllIntervals=function(){var e,t=f.intervalList;if("undefined"!=typeof t&&null!==t){for(e=0;e<t.length;e++)u(t[e]);f.intervalList=null}},f.debug=function(){(f.options.debug||!1)&&f.log.apply(f,arguments)},f.log=function(){var e,t,a,o,i,s="undefined"!=typeof n&&"undefined"!=typeof n.log&&"undefined"!=typeof n.log.apply,c=r.getElementById("log");for(s?(o=Array.prototype.slice.call(arguments),e=o.shift(),"undefined"!=typeof n.debug?n.debug.apply(n,[e,o]):n.log.apply(n,[e,o])):e="\n"+arguments[0]+"\n",t=1,a=arguments.length;a>t;++t){if(i=arguments[t],"object"==typeof i&&"undefined"!=typeof l)try{i=l.stringify(i)}catch(u){}e+="\n"+i+"\n"}return c?(c.value+=e+"\n-----\n",c.scrollTop=c.scrollHeight-c.clientHeight):s||d(e),!0},f.getInternetExplorerMajorVersion=function(){var e=f.getInternetExplorerMajorVersion.cached="undefined"!=typeof f.getInternetExplorerMajorVersion.cached?f.getInternetExplorerMajorVersion.cached:function(){for(var e=3,t=r.createElement("div"),n=t.getElementsByTagName("i");(t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&n[0];);return e>4?e:!1}();return e},f.isInternetExplorer=function(){var e=f.isInternetExplorer.cached="undefined"!=typeof f.isInternetExplorer.cached?f.isInternetExplorer.cached:Boolean(f.getInternetExplorerMajorVersion());return e},f.emulated=f.options.html4Mode?{pushState:!0,hashChange:!0}:{pushState:!Boolean(e.history&&e.history.pushState&&e.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(a.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(a.userAgent)),hashChange:Boolean(!("onhashchange"in e||"onhashchange"in r)||f.isInternetExplorer()&&f.getInternetExplorerMajorVersion()<8)},f.enabled=!f.emulated.pushState,f.bugs={setHash:Boolean(!f.emulated.pushState&&"Apple Computer, Inc."===a.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(a.userAgent)),safariPoll:Boolean(!f.emulated.pushState&&"Apple Computer, Inc."===a.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(a.userAgent)),ieDoubleCheck:Boolean(f.isInternetExplorer()&&f.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(f.isInternetExplorer()&&f.getInternetExplorerMajorVersion()<7)},f.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},f.cloneObject=function(e){var t,n;return e?(t=l.stringify(e),n=l.parse(t)):n={},n},f.getRootUrl=function(){var e=r.location.protocol+"//"+(r.location.hostname||r.location.host);return r.location.port&&(e+=":"+r.location.port),e+="/"},f.getBaseHref=function(){var e=r.getElementsByTagName("base"),t=null,n="";return 1===e.length&&(t=e[0],n=t.href.replace(/[^\/]+$/,"")),n=n.replace(/\/+$/,""),n&&(n+="/"),n},f.getBaseUrl=function(){var e=f.getBaseHref()||f.getBasePageUrl()||f.getRootUrl();return e},f.getPageUrl=function(){var e,t=f.getState(!1,!1),n=(t||{}).url||f.getLocationHref();return e=n.replace(/\/+$/,"").replace(/[^\/]+$/,function(e){return/\./.test(e)?e:e+"/"})},f.getBasePageUrl=function(){var e=f.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/";return e},f.getFullUrl=function(e,t){var n=e,r=e.substring(0,1);return t="undefined"==typeof t?!0:t,/[a-z]+\:\/\//.test(e)||(n="/"===r?f.getRootUrl()+e.replace(/^\/+/,""):"#"===r?f.getPageUrl().replace(/#.*/,"")+e:"?"===r?f.getPageUrl().replace(/[\?#].*/,"")+e:t?f.getBaseUrl()+e.replace(/^(\.\/)+/,""):f.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),n.replace(/\#$/,"")},f.getShortUrl=function(e){var t=e,n=f.getBaseUrl(),r=f.getRootUrl();return f.emulated.pushState&&(t=t.replace(n,"")),t=t.replace(r,"/"),f.isTraditionalAnchor(t)&&(t="./"+t),t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},f.getLocationHref=function(e){return e=e||r,e.URL===e.location.href?e.location.href:e.location.href===decodeURIComponent(e.URL)?e.URL:e.location.hash&&decodeURIComponent(e.location.href.replace(/^[^#]+/,""))===e.location.hash?e.location.href:-1==e.URL.indexOf("#")&&-1!=e.location.href.indexOf("#")?e.location.href:e.URL||e.location.href},f.store={},f.idToState=f.idToState||{},f.stateToId=f.stateToId||{},f.urlToId=f.urlToId||{},f.storedStates=f.storedStates||[],f.savedStates=f.savedStates||[],f.normalizeStore=function(){f.store.idToState=f.store.idToState||{},f.store.urlToId=f.store.urlToId||{},f.store.stateToId=f.store.stateToId||{}},f.getState=function(e,t){"undefined"==typeof e&&(e=!0),"undefined"==typeof t&&(t=!0);var n=f.getLastSavedState();return!n&&t&&(n=f.createStateObject()),e&&(n=f.cloneObject(n),n.url=n.cleanUrl||n.url),n},f.getIdByState=function(e){var t,n=f.extractId(e.url);if(!n)if(t=f.getStateString(e),"undefined"!=typeof f.stateToId[t])n=f.stateToId[t];else if("undefined"!=typeof f.store.stateToId[t])n=f.store.stateToId[t];else{for(;n=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"!=typeof f.idToState[n]||"undefined"!=typeof f.store.idToState[n];);f.stateToId[t]=n,f.idToState[n]=e}return n},f.normalizeState=function(e){var t,n;return e&&"object"==typeof e||(e={}),"undefined"!=typeof e.normalized?e:(e.data&&"object"==typeof e.data||(e.data={}),t={},t.normalized=!0,t.title=e.title||"",t.url=f.getFullUrl(e.url?e.url:f.getLocationHref()),t.hash=f.getShortUrl(t.url),t.data=f.cloneObject(e.data),t.id=f.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,n=!f.isEmptyObject(t.data),(t.title||n)&&f.options.disableSuid!==!0&&(t.hash=f.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=f.getFullUrl(t.hash),(f.emulated.pushState||f.bugs.safariPoll)&&f.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t)},f.createStateObject=function(e,t,n){var r={data:e,title:t,url:n};return r=f.normalizeState(r)},f.getStateById=function(e){e=String(e);var n=f.idToState[e]||f.store.idToState[e]||t;return n},f.getStateString=function(e){var t,n,r;return t=f.normalizeState(e),n={data:t.data,title:e.title,url:e.url},r=l.stringify(n)},f.getStateId=function(e){var t,n;return t=f.normalizeState(e),n=t.id},f.getHashByState=function(e){var t,n;return t=f.normalizeState(e),n=t.hash},f.extractId=function(e){var t,n,r,a;return a=-1!=e.indexOf("#")?e.split("#")[0]:e,n=/(.*)\&_suid=([0-9]+)$/.exec(a),r=n?n[1]||e:e,t=n?String(n[2]||""):"",t||!1},f.isTraditionalAnchor=function(e){var t=!/[\/\?\.]/.test(e);return t},f.extractState=function(e,t){var n,r,a=null;return t=t||!1,n=f.extractId(e),n&&(a=f.getStateById(n)),a||(r=f.getFullUrl(e),n=f.getIdByUrl(r)||!1,n&&(a=f.getStateById(n)),!a&&t&&!f.isTraditionalAnchor(e)&&(a=f.createStateObject(null,null,r))),a
},f.getIdByUrl=function(e){var n=f.urlToId[e]||f.store.urlToId[e]||t;return n},f.getLastSavedState=function(){return f.savedStates[f.savedStates.length-1]||t},f.getLastStoredState=function(){return f.storedStates[f.storedStates.length-1]||t},f.hasUrlDuplicate=function(e){var t,n=!1;return t=f.extractState(e.url),n=t&&t.id!==e.id},f.storeState=function(e){return f.urlToId[e.url]=e.id,f.storedStates.push(f.cloneObject(e)),e},f.isLastSavedState=function(e){var t,n,r,a=!1;return f.savedStates.length&&(t=e.id,n=f.getLastSavedState(),r=n.id,a=t===r),a},f.saveState=function(e){return f.isLastSavedState(e)?!1:(f.savedStates.push(f.cloneObject(e)),!0)},f.getStateByIndex=function(e){var t=null;return t="undefined"==typeof e?f.savedStates[f.savedStates.length-1]:0>e?f.savedStates[f.savedStates.length+e]:f.savedStates[e]},f.getCurrentIndex=function(){var e=null;return e=f.savedStates.length<1?0:f.savedStates.length-1},f.getHash=function(e){var t,n=f.getLocationHref(e);return t=f.getHashByUrl(n)},f.unescapeHash=function(e){var t=f.normalizeHash(e);return t=decodeURIComponent(t)},f.normalizeHash=function(e){var t=e.replace(/[^#]*#/,"").replace(/#.*/,"");return t},f.setHash=function(e,t){var n,a;return t!==!1&&f.busy()?(f.pushQueue({scope:f,callback:f.setHash,args:arguments,queue:t}),!1):(f.busy(!0),n=f.extractState(e,!0),n&&!f.emulated.pushState?f.pushState(n.data,n.title,n.url,!1):f.getHash()!==e&&(f.bugs.setHash?(a=f.getPageUrl(),f.pushState(null,null,a+"#"+e,!1)):r.location.hash=e),f)},f.escapeHash=function(t){var n=f.normalizeHash(t);return n=e.encodeURIComponent(n),f.bugs.hashEscape||(n=n.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),n},f.getHashByUrl=function(e){var t=String(e).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=f.unescapeHash(t)},f.setTitle=function(e){var t,n=e.title;n||(t=f.getStateByIndex(0),t&&t.url===e.url&&(n=t.title||f.options.initialTitle));try{r.getElementsByTagName("title")[0].innerHTML=n.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(a){}return r.title=n,f},f.queues=[],f.busy=function(e){if("undefined"!=typeof e?f.busy.flag=e:"undefined"==typeof f.busy.flag&&(f.busy.flag=!1),!f.busy.flag){s(f.busy.timeout);var t=function(){var e,n,r;if(!f.busy.flag)for(e=f.queues.length-1;e>=0;--e)n=f.queues[e],0!==n.length&&(r=n.shift(),f.fireQueueItem(r),f.busy.timeout=i(t,f.options.busyDelay))};f.busy.timeout=i(t,f.options.busyDelay)}return f.busy.flag},f.busy.flag=!1,f.fireQueueItem=function(e){return e.callback.apply(e.scope||f,e.args||[])},f.pushQueue=function(e){return f.queues[e.queue||0]=f.queues[e.queue||0]||[],f.queues[e.queue||0].push(e),f},f.queue=function(e,t){return"function"==typeof e&&(e={callback:e}),"undefined"!=typeof t&&(e.queue=t),f.busy()?f.pushQueue(e):f.fireQueueItem(e),f},f.clearQueue=function(){return f.busy.flag=!1,f.queues=[],f},f.stateChanged=!1,f.doubleChecker=!1,f.doubleCheckComplete=function(){return f.stateChanged=!0,f.doubleCheckClear(),f},f.doubleCheckClear=function(){return f.doubleChecker&&(s(f.doubleChecker),f.doubleChecker=!1),f},f.doubleCheck=function(e){return f.stateChanged=!1,f.doubleCheckClear(),f.bugs.ieDoubleCheck&&(f.doubleChecker=i(function(){return f.doubleCheckClear(),f.stateChanged||e(),!0},f.options.doubleCheckInterval)),f},f.safariStatePoll=function(){var t,n=f.extractState(f.getLocationHref());return f.isLastSavedState(n)?void 0:(t=n,t||(t=f.createStateObject()),f.Adapter.trigger(e,"popstate"),f)},f.back=function(e){return e!==!1&&f.busy()?(f.pushQueue({scope:f,callback:f.back,args:arguments,queue:e}),!1):(f.busy(!0),f.doubleCheck(function(){f.back(!1)}),p.go(-1),!0)},f.forward=function(e){return e!==!1&&f.busy()?(f.pushQueue({scope:f,callback:f.forward,args:arguments,queue:e}),!1):(f.busy(!0),f.doubleCheck(function(){f.forward(!1)}),p.go(1),!0)},f.go=function(e,t){var n;if(e>0)for(n=1;e>=n;++n)f.forward(t);else{if(!(0>e))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(n=-1;n>=e;--n)f.back(t)}return f},f.emulated.pushState){var h=function(){};f.pushState=f.pushState||h,f.replaceState=f.replaceState||h}else f.onPopState=function(t,n){var r,a,o=!1,i=!1;return f.doubleCheckComplete(),r=f.getHash(),r?(a=f.extractState(r||f.getLocationHref(),!0),a?f.replaceState(a.data,a.title,a.url,!1):(f.Adapter.trigger(e,"anchorchange"),f.busy(!1)),f.expectedStateId=!1,!1):(o=f.Adapter.extractEventData("state",t,n)||!1,i=o?f.getStateById(o):f.expectedStateId?f.getStateById(f.expectedStateId):f.extractState(f.getLocationHref()),i||(i=f.createStateObject(null,null,f.getLocationHref())),f.expectedStateId=!1,f.isLastSavedState(i)?(f.busy(!1),!1):(f.storeState(i),f.saveState(i),f.setTitle(i),f.Adapter.trigger(e,"statechange"),f.busy(!1),!0))},f.Adapter.bind(e,"popstate",f.onPopState),f.pushState=function(t,n,r,a){if(f.getHashByUrl(r)&&f.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(a!==!1&&f.busy())return f.pushQueue({scope:f,callback:f.pushState,args:arguments,queue:a}),!1;f.busy(!0);var o=f.createStateObject(t,n,r);return f.isLastSavedState(o)?f.busy(!1):(f.storeState(o),f.expectedStateId=o.id,p.pushState(o.id,o.title,o.url),f.Adapter.trigger(e,"popstate")),!0},f.replaceState=function(t,n,r,a){if(f.getHashByUrl(r)&&f.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(a!==!1&&f.busy())return f.pushQueue({scope:f,callback:f.replaceState,args:arguments,queue:a}),!1;f.busy(!0);var o=f.createStateObject(t,n,r);return f.isLastSavedState(o)?f.busy(!1):(f.storeState(o),f.expectedStateId=o.id,p.replaceState(o.id,o.title,o.url),f.Adapter.trigger(e,"popstate")),!0};if(o){try{f.store=l.parse(o.getItem("History.store"))||{}}catch(g){f.store={}}f.normalizeStore()}else f.store={},f.normalizeStore();f.Adapter.bind(e,"unload",f.clearAllIntervals),f.saveState(f.storeState(f.extractState(f.getLocationHref(),!0))),o&&(f.onUnload=function(){var e,t,n;try{e=l.parse(o.getItem("History.store"))||{}}catch(r){e={}}e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{};for(t in f.idToState)f.idToState.hasOwnProperty(t)&&(e.idToState[t]=f.idToState[t]);for(t in f.urlToId)f.urlToId.hasOwnProperty(t)&&(e.urlToId[t]=f.urlToId[t]);for(t in f.stateToId)f.stateToId.hasOwnProperty(t)&&(e.stateToId[t]=f.stateToId[t]);f.store=e,f.normalizeStore(),n=l.stringify(e);try{o.setItem("History.store",n)}catch(a){if(a.code!==DOMException.QUOTA_EXCEEDED_ERR)throw a;o.length&&(o.removeItem("History.store"),o.setItem("History.store",n))}},f.intervalList.push(c(f.onUnload,f.options.storeInterval)),f.Adapter.bind(e,"beforeunload",f.onUnload),f.Adapter.bind(e,"unload",f.onUnload)),f.emulated.pushState||(f.bugs.safariPoll&&f.intervalList.push(c(f.safariStatePoll,f.options.safariPollInterval)),("Apple Computer, Inc."===a.vendor||"Mozilla"===(a.appCodeName||""))&&(f.Adapter.bind(e,"hashchange",function(){f.Adapter.trigger(e,"popstate")}),f.getHash()&&f.Adapter.onDomLoad(function(){f.Adapter.trigger(e,"hashchange")})))},(!f.options||!f.options.delayInit)&&f.init()}(window),window.VirtualScroll=function(e){var t,n,r,a={},o=[],i=!1,s=2,c=-8,u={y:0,x:0,deltaX:0,deltaY:0};a.addEventListener=function(e){i||d(),o.push(e),t=o.length},a.invokeFirefox=function(e){u.y+=e.detail*c,u.deltaY=e.detail*c,l()};var l=function(){for(var e=0;t>e;e++)o[e](u)},d=function(){e.addEventListener("mousewheel",function(e){e.preventDefault(),u.y+=e.wheelDeltaY,u.deltaY=e.wheelDeltaY,l()}),e.addEventListener("DOMMouseScroll",function(e){e.preventDefault(),u.y+=e.detail*c,u.deltaY=e.detail*c,l()}),e.addEventListener("touchstart",function(e){n=e.targetTouches[0].pageX,r=e.targetTouches[0].pageY}),e.addEventListener("touchmove",function(e){e.preventDefault();var t=(e.targetTouches[0].pageY-r)*s;u.y+=t,u.deltaY=t,r=e.targetTouches[0].pageY,l()}),i=!0};return a}(document),Math.clamp=function(e,t,n){return Math.max(Math.min(e,n),t)},window.Broadcast=function(){var e={},t=function(){this.send=function(t,n){var r=e[t];if(r)for(var a=r.length,o=0;a>o;o++)r[o]&&r[o](n)},this.addClient=function(t,n){e[t]||(e[t]=[]);var r=e[t];r[n]>-1||r.push(n)},this.removeClient=function(t,n){var r=e[t];if(r)return r.splice(r.indexOf(n),1)},this.getClients=function(t){return e[t]}};return new t}(),window.Loader={loadText:function(e,t){var n=new XMLHttpRequest;n.open("GET",e),n.onreadystatechange=function(){4==n.readyState&&t.call(null,n.responseText)},n.send()},loadJSON:function(e,t){Loader.loadText(e,function(e){t(JSON.parse(e))})}},window.Wrapper=function(e){var t=e,n=0,r=0,a=0,o=1,i=1,s=function(){t.style.webkitTransform="translate3d("+n+"px,"+r+"px,"+a+"px) scale("+o+","+i+")",t.style.transform="translate3d("+n+"px,"+r+"px,"+a+"px) scale("+o+","+i+")"};this.move=function(e,t,o){n=e||0,r=t||0,a=o||0,s()},this.scale=function(e,t){o=e||1,i=t||1,s()},this.moveBy=function(e,t,o){n+=e||0,r+=t||0,a+=o||0,s()},this.height=function(){return t.scrollHeight},this.position=function(){for(var e=t,n=0,r=0;null!=e;n+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent);return{x:n,y:r}},this.css=function(e,n){return e?(t.style[e]=n,void 0):t.style},this.domElement=function(){return t},this.on=function(e,n){t.addEventListener(e,n)},this.off=function(e,n){t.removeEventListener(e,n)}},Wrapper.create=function(e){return new Wrapper(document.createElement(e))},Wrapper.select=function(e){var t=document.querySelector(e);return t?new Wrapper(t):null},Wrapper.selectAll=function(e){for(var t=document.querySelectorAll(e),n=[],r=0;r<t.length;r++)n.push(new Wrapper(t[r]));return n},window.Msg={},Msg.SCROLL="msgScroll",Msg.RENDER="msgRender",Msg.RESIZE="msgResize",Msg.ON_MAIN_OPEN="msgOnMainOpen",Msg.ON_ABOUT_OPEN="msgOnAboutOpen",Msg.ON_ITEM_OPEN="msgOnItemOpen",window.Site=function(){if(Config.vscrollEnabled){VirtualScroll.addEventListener(function(e){Broadcast.send(Msg.SCROLL,e),window.scroll(10,0)}),document.addEventListener("touchmove",function(e){e.preventDefault()},!1);var e=function(){requestAnimationFrame(e),Broadcast.send(Msg.RENDER)};window.addEventListener("resize",function(){Broadcast.send(Msg.RESIZE)}),e()}},window.MainPanel=function(){var e,t=!0,n=0,r=0,a=Wrapper.select("#main"),o=Wrapper.select("#header"),i=Wrapper.select("#projects"),s=Wrapper.select("#play"),c=Wrapper.selectAll(".box"),u=Wrapper.select("#about-btn"),l=function(e){e?a.domElement().setAttribute("class","animated"):a.domElement().setAttribute("class","")},d=function(){e=a.height()-window.innerHeight},f=function(e){t&&(r+=e.deltaY)},p=function(){t&&(r=Math.clamp(r,-e,0),n+=.2*(r-n),o.move(0,n),i.move(0,n),s.move(0,n))},h=function(){t||(a.move(0,0),a.css("-webkit-filter",""),t=!0)},g=function(){var e=window.innerWidth>500?500:window.innerWidth;a.move(e,0),a.css("-webkit-filter","grayscale(100%) brightness(0.8)"),t=!1},m=function(){var e=-window.innerWidth;a.move(e,0),a.css("-webkit-filter","grayscale(100%) brightness(0.8)"),t=!1};Broadcast.addClient(Msg.ON_ITEM_OPEN,m),Broadcast.addClient(Msg.ON_ABOUT_OPEN,g),Broadcast.addClient(Msg.ON_MAIN_OPEN,h),Broadcast.addClient(Msg.SCROLL,f),Broadcast.addClient(Msg.RENDER,p),Broadcast.addClient(Msg.RESIZE,d),c.forEach(function(e){e=Box(e),e.on("click",function(){t&&Broadcast.send(Msg.ON_ITEM_OPEN,e.id)})}),u.on("click",function(){t?Broadcast.send(Msg.ON_ABOUT_OPEN):Broadcast.send(Msg.ON_MAIN_OPEN)}),d(),l(!0)},window.AboutPanel=function(){var e,t=!1,n=0,r=0,a=Wrapper.select("#about section"),o=Wrapper.select("#about .close"),i=function(){e=a.height()<window.innerHeight?0:a.height()-window.innerHeight+Config.scrollMargin},s=function(e){t&&(r+=e.deltaY)},c=function(){t&&(r=Math.clamp(r,-e,0),n+=.2*(r-n),a.move(0,n))},u=function(){a.css("display","block"),t=!0},l=function(){t&&(t=!1,d())},d=function(){t=!1,a.css("display","none")};Broadcast.addClient(Msg.ON_ITEM_OPEN,d),Broadcast.addClient(Msg.ON_ABOUT_OPEN,u),Broadcast.addClient(Msg.ON_MAIN_OPEN,l),Broadcast.addClient(Msg.SCROLL,s),Broadcast.addClient(Msg.RENDER,c),Broadcast.addClient(Msg.RESIZE,i),o.on("click",function(){Broadcast.send(Msg.ON_MAIN_OPEN)}),i()},window.ContentPanel=function(){var e,t,n,r=!1,a=0,o=0,i=Wrapper.select("#content section"),s=Wrapper.select("#content .close"),c=Wrapper.select("#content h2"),u=Wrapper.select("#content .content"),l=Wrapper.select("#content .hero"),d=function(){e=u.position().y-(window.innerHeight-u.height())+Config.scrollMargin,e=Math.max(0,e)},f=function(t){!r||0>=e||(o+=t.deltaY)},p=function(){!r||0>=e||(o=Math.clamp(o,-e,0),a+=.2*(o-a),u.move(0,a),t&&t.move(0,.5*a),n&&n.move(0,.5*a))},h=function(t){r=!0,e=0,setTimeout(g,500,Data.getProjectById(t))},g=function(e){s.css("display","block"),i.css("display","block"),c.domElement().innerHTML=e.name,Loader.loadText(e.contentUrl,function(e){u.domElement().innerHTML=e,d()});var r=[];if(e.deps.forEach(function(e){Modernizr[e]||r.push(e)}),"demo"==e.type){var a=9/16;if(e.aspect&&""!=e.aspect){var o=parseInt(e.aspect.split(":")[0]),f=parseInt(e.aspect.split(":")[1]);a=-1==o?window.innerHeight/window.innerWidth:f/o}var p=window.innerWidth*a;p<window.innerHeight-u.height()&&(p=window.innerHeight-u.height()),window.innerWidth<500&&(p=window.innerWidth),t=Wrapper.create("iframe"),t.domElement().setAttribute("frameBorder","0"),t.on("load",function(){t.css("opacity","1"),t.domElement().contentDocument.addEventListener("DOMMouseScroll",function(e){VirtualScroll.invokeFirefox(e)})}),t.css("opacity","0"),t.css("height",p+"px"),l.domElement().appendChild(t.domElement()),t.domElement().contentWindow.location.replace(e.url)}else if("article"==e.type){n=Wrapper.create("img");var h=Wrapper.create("div");n.on("load",function(){h.css("backgroundColor","rgba(0, 0, 0, 0)"),d()}),window.innerWidth>window.innerHeight?(n.css("width","100%"),n.css("height",window.innerWidth*(100/235)+"px"),h.css("width","100%"),h.css("height",window.innerWidth*(100/235)+"px"),n.domElement().src="assets/content/1920w-235as/"+e.id+".jpg"):(n.css("width","100%"),n.css("height",window.innerWidth+"px"),h.css("width","100%"),h.css("height",window.innerWidth+"px"),n.domElement().src="assets/content/871sq/"+e.id+".jpg"),l.domElement().appendChild(n.domElement()),l.domElement().appendChild(h.domElement())}},m=function(){r&&(r=!1,y())},y=function(){if(r=!1,u.domElement().innerHTML="",t){try{t.domElement().contentWindow.kill()}catch(e){}l.domElement().removeChild(t.domElement()),t=null}n&&(l.domElement().removeChild(n.domElement()),n=null),s.css("display","none"),i.css("display","none")};Broadcast.addClient(Msg.SCROLL,f),Broadcast.addClient(Msg.RENDER,p),Broadcast.addClient(Msg.RESIZE,d),Broadcast.addClient(Msg.ON_MAIN_OPEN,m),Broadcast.addClient(Msg.ON_ABOUT_OPEN,y),Broadcast.addClient(Msg.ON_ITEM_OPEN,h),s.on("click",function(){Broadcast.send(Msg.ON_MAIN_OPEN)})},window.Box=function(e){e.id=e.domElement().getAttribute("data-id");var t=e.domElement().querySelector("div:nth-of-type(1) img"),n=e.domElement().querySelector("div:nth-of-type(1) div"),r=t.getAttribute("data-image-large");t.onload=function(){n.style.backgroundColor="rgba(0, 0, 0, 0)"};var a=function(){var n=e.domElement().getBoundingClientRect();n.top<window.innerHeight&&(t.src=r,Broadcast.removeClient(Msg.RENDER,a))};return Broadcast.addClient(Msg.RENDER,a),e},window.Router=function(){var e=!1,t=function(e){""!=e&&("/"==e&&Broadcast.send(Msg.ON_MAIN_OPEN),"/about"==e&&Broadcast.send(Msg.ON_ABOUT_OPEN),0==e.indexOf("/project")&&Broadcast.send(Msg.ON_ITEM_OPEN,e.split("/")[2]))};Broadcast.addClient(Msg.ON_MAIN_OPEN,function(){e=!0,History.pushState({section:"/"},null,"/")}),Broadcast.addClient(Msg.ON_ABOUT_OPEN,function(){e=!0,History.pushState({section:"/about"},null,"/about")}),Broadcast.addClient(Msg.ON_ITEM_OPEN,function(t){e=!0,History.pushState({section:"/project/"+t},null,"/project/"+t)}),History.Adapter.bind(window,"statechange",function(){e||t(History.getState().data.section),e=!1}),t(History.getState().hash)};