(location.host.indexOf("localhost")>-1||location.host.indexOf("192.168")>-1)&&document.write('<script src="http://'+(location.host||"localhost").split(":")[0]+':35729/livereload.js?snipver=1"></'+"script>"),window.addEventListener("load",function(){Data.setMain(rawData),Site(),MainPanel(),AboutPanel(),ContentPanel(),Router()}),function(e){e.Data=function(){var e,t={};return t.setMain=function(t){e=t},t.getMain=function(){return e},t.toFilteredJSON=function(){var t={};return t.projects=e.projects,t.play=e.play,JSON.stringify(t)},t.getProjectById=function(t){t=t.indexOf("?")>-1?t.split("?")[0]:t;var n,o,i=e.projects.length,a=e.play.length;for(o=0;i>o;o++)if(n=e.projects[o],n.id==t)return n;for(o=0;a>o;o++)if(n=e.play[o],n.id==t)return n},t}()}("undefined"!=typeof process&&process.versions?exports:window),function(){for(var e=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),o=Math.max(0,16-(n-e)),i=window.setTimeout(function(){t(n+o)},o);return e=n+o,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),window.Simplrz=function(){var e={},t=[],n=function(n,o){var i=o();e[n]=i,t.push(i?n:"no-"+n)},o=function(){var e=window.getComputedStyle(document.documentElement,""),t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1],n="WebKit|Moz|MS|O".match(new RegExp("("+t+")","i"))[1];return{dom:n,lowercase:t,css:"-"+t+"-",js:t[0].toUpperCase()+t.substr(1)}}();t.push(o.lowercase);var i=function(){for(var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",n[0];);return e>4?e:null}();return t.push(i?"ie-"+i:"no-ie"),n("touch",function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch}),n("webrct",function(){return"getUserMedia"in navigator||"webkitGetUserMedia"in navigator}),n("canvas",function(){try{var e=document.createElement("canvas");return e.getContext("2d")}catch(t){return!1}}),n("webgl",function(){try{var e=document.createElement("canvas");return!!window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl"))}catch(t){return!1}}),n("flash",function(){return!!(navigator.mimeTypes["application/x-shockwave-flash"]||window.ActiveXObject&&new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}),document.documentElement.setAttribute("class",t.join(" ")),e}();var VirtualScroll=function(e){var t,n,o,i,a={},r=[],s=!1,c=120,d="onwheel"in e,l="onmousewheel"in e,u="ontouchstart"in e,p=navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,h=!!window.navigator.msPointerEnabled,f="onkeydown"in e,w={y:0,x:0,deltaX:0,deltaY:0,originalEvent:null};a.addEventListener=function(e){s||M(),r.push(e),t=r.length},a.removeEventListener=function(e){r.splice(e,1),t=r.length,0>=t&&b()};var v=function(e){w.x+=w.deltaX,w.y+=w.deltaY,w.originalEvent=e;for(var n=0;t>n;n++)r[n](w)},m=function(e){w.deltaX=e.wheelDeltaX||-1*e.deltaX,w.deltaY=e.wheelDeltaY||-1*e.deltaY,v(e)},g=function(e){w.deltaX=e.wheelDeltaX?e.wheelDeltaX:0,w.deltaY=e.wheelDeltaY?e.wheelDeltaY:e.wheelDelta,v(e)},E=function(e){var t=e.targetTouches?e.targetTouches[0]:e;n=t.pageX,o=t.pageY},y=function(e){var t=e.targetTouches?e.targetTouches[0]:e;w.deltaX=t.pageX-n,w.deltaY=t.pageY-o,n=t.pageX,o=t.pageY,v(e)},C=function(e){switch(w.deltaX=w.deltaY=0,e.keyCode){case 37:w.deltaX=-c;break;case 39:w.deltaX=c;break;case 38:w.deltaY=-c;break;case 40:w.deltaY=c}v(e)},M=function(){d&&e.addEventListener("wheel",m),l&&e.addEventListener("mousewheel",g),u&&(e.addEventListener("touchstart",E),e.addEventListener("touchmove",y)),h&&p&&(i=e.body.style.msTouchAction,e.body.style.msTouchAction="none",e.addEventListener("MSPointerDown",E,!0),e.addEventListener("MSPointerMove",y,!0)),f&&e.addEventListener("keydown",C),s=!0},b=function(){d&&e.removeEventListener("wheel",m),l&&e.removeEventListener("mousewheel",g),u&&(e.removeEventListener("touchstart",E),e.removeEventListener("touchmove",y)),h&&p&&(e.body.style.msTouchAction=i,e.removeEventListener("MSPointerDown",E,!0),e.removeEventListener("MSPointerMove",y,!0)),f&&e.removeEventListener("keydown",C),s=!1};return a}(document);Math.clamp=function(e,t,n){return Math.max(Math.min(e,n),t)},Math.pointInRect=function(e,t){return e.x>=t.left&&e.x<=t.right&&e.y>=t.top&&e.y<=t.bottom},CSSUtil={hexToRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}};var RL={};RL.setRlc=function(){},RL.log=RL.warn=RL.error=function(e){console.log("RL",e)},window.Broadcast=function(){var e={},t=function(){this.send=function(t,n){var o=e[t];if(o)for(var i=o.length,a=0;i>a;a++)o[a]&&o[a](n)},this.addClient=function(t,n){e[t]||(e[t]=[]);var o=e[t];o[n]>-1||o.push(n)},this.removeClient=function(t,n){var o=e[t];if(o)return o.splice(o.indexOf(n),1)},this.getClients=function(t){return e[t]}};return new t}(),window.Loader={loadText:function(e,t){var n=new XMLHttpRequest;n.open("GET",e),n.onreadystatechange=function(){4==n.readyState&&t.call(null,n.responseText)},n.send()},loadJSON:function(e,t){Loader.loadText(e,function(e){t(JSON.parse(e))})}},window.Wrapper=function(e){var t=this,n="tap",o=e,i=0,a=0,r=0,s=0,c=0,d=0,l=1,u=1,p=function(){var e="translate3d("+i+"px,"+a+"px,"+r+"px) ",t="scale("+l+","+u+") ",n="rotateX("+s+"deg) rotateY("+c+"deg) rotateZ("+d+"deg)";o.style.webkitTransform=e+t+n,o.style.msTransform=e+t+n,o.style.transform=e+t+n};this.move=function(e,t,n){i=e||0,a=t||0,r=n||0,p()},this.rotate=function(e,t,n){s=e||0,c=t||0,d=n||0,p()},this.scale=function(e,t){l=null!==e?e:1,u=null!==t?t:1,p()},this.moveBy=function(e,t,n){i+=e||0,a+=t||0,r+=n||0,p()},this.height=function(){return o.scrollHeight},this.rect=function(){return o.getBoundingClientRect()},this.position=function(){for(var e=o,t=0,n=0;null!=e;t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent);return{x:t,y:n}},this.css=function(e,t){return e?(o.style[e]=t,void 0):o.style},this.e=function(){return o},this.on=function(e,t){e==n?(t.tapHandler=function(){var e,n,o,i={},a=2e4,r=100;return i.touchStart=function(t){e=(new Date).getTime(),n=t.targetTouches[0].pageX,o=t.targetTouches[0].pageY},i.touchEnd=function(i){var s=(new Date).getTime()-e,c=i.changedTouches[0].pageX-n,d=i.changedTouches[0].pageY-o,l=c*c+d*d;a>s&&r>l&&t()},i}(),o.addEventListener("touchstart",t.tapHandler.touchStart),o.addEventListener("touchend",t.tapHandler.touchEnd)):o.addEventListener(e,t)},this.off=function(e,t){o.removeEventListener(e,t)},this.addClass=function(e){h.push(e),t.attr("class",h.join(" "))},this.rmClass=function(e){h.splice(h.indexOf(e),1),t.attr("class",h.join(" "))},this.attr=function(t,n){return n?(e.setAttribute(t,n),void 0):e.getAttribute(t)},this.select=function(e){return Wrapper.select(e,o)},this.selectAll=function(e){return Wrapper.selectAll(e,o)};var h=(this.attr("class")||"").split(" ")},Wrapper.create=function(e){return new Wrapper(document.createElement(e))},Wrapper.select=function(e,t){var n=(t||document).querySelector(e);return n?new Wrapper(n):null},Wrapper.selectAll=function(e,t){for(var n=(t||document).querySelectorAll(e),o=[],i=0;i<n.length;i++)o.push(new Wrapper(n[i]));return o},window.Msg={},Msg.SCROLL="msgScroll",Msg.RENDER="msgRender",Msg.RESIZE="msgResize",Msg.NAVIGATE="msgNavigate",window.Site=function(){window.Config={},Config.click=Simplrz.touch?"tap":"click",document.querySelector("#content").style.pointerEvents="none";var e={x:0,y:0};window.scroll(0,1),VirtualScroll.addEventListener(function(e){Broadcast.send(Msg.SCROLL,e)}),window.addEventListener("resize",function(){Broadcast.send(Msg.RESIZE)}),window.addEventListener("mousemove",function(t){e.x=t.pageX,e.y=t.pageY}),window.addEventListener("touchmove",function(e){e.preventDefault()});var t=function(){requestAnimationFrame(t),Broadcast.send(Msg.RENDER,e)};t()},window.MainPanel=function(){var e,t=!0,n=0,o=0,i=0,a=Wrapper.select("#main"),r=Wrapper.select("#header"),s=Wrapper.select("#projects"),c=Wrapper.select("#footer"),d=Wrapper.selectAll(".box"),l=function(e){e?a.addClass("animated"):a.rmClass("animated")},u=function(){switch(e=a.height()-window.innerHeight,n){case 1:var t=window.innerWidth>500?500:window.innerWidth;a.move(t,0);break;case-1:var t=-window.innerWidth;a.move(t,0)}},p=function(e){t&&(i+=e.deltaY)},h=function(){if(t){i=Math.clamp(i,-e,0);var n=.2*(i-o);o+=n;var a=0|o;r.move(0,.85*a),s.move(0,a),c.move(0,a)}},f=function(){t||(a.move(0,0),t=!0,n=0)},w=function(){var e=window.innerWidth>500?500:window.innerWidth;a.move(e,0),t=!1,n=1},v=function(){var e=-window.innerWidth;a.move(e,0),t=!1,n=-1};Broadcast.addClient(Msg.NAVIGATE,function(e){switch(l(e.history.length>0),e.parts[0]){case"about":w();break;case"project":v();break;case"":f()}}),Broadcast.addClient(Msg.SCROLL,p),Broadcast.addClient(Msg.RESIZE,u),Broadcast.addClient(Msg.RENDER,h),d.forEach(function(e){e=Box(e),e.current=e.target=0}),u()},window.AboutPanel=function(){var e,t=!1,n=0,o=0,i=Wrapper.select("#about section");Wrapper.select("#about .close");var a=Wrapper.select("#about section > div");Wrapper.selectAll("#about .panel");var r=function(e){e?a.addClass("animated"):a.rmClass("animated")},s=function(){e=i.height()<window.innerHeight?0:i.height()-window.innerHeight},c=function(e){t&&(o+=e.deltaY)},d=function(){t&&(o=Math.clamp(o,-e,0),n+=.2*(o-n),i.move(0,n))},l=function(){t=!0,a.rotate(0,0,0),a.move(0,0,0),a.css("opacity",1)},u=function(){if(t){a.rotate(0,-90,0);var e=window.innerWidth>500?500:window.innerWidth;a.move(-e,0,0),a.css("opacity",0),t=!1,u()}};Broadcast.addClient(Msg.NAVIGATE,function(e){r(e.history.length>0),"about"==e.parts[0]?l():u()}),Broadcast.addClient(Msg.SCROLL,c),Broadcast.addClient(Msg.RENDER,d),Broadcast.addClient(Msg.RESIZE,s);var p=window.innerWidth>500?500:window.innerWidth;a.move(-p,0,0),a.rotate(0,-90,0),s()},window.ContentPanel=function(){var e,t,n,o,i,a=!1,r=0,s=0,c=Wrapper.select("#content section"),d=Wrapper.select("#content h2"),l=Wrapper.select("#content .content"),u=Wrapper.select("#content .hero"),p=Wrapper.select("#content .close"),h=function(){f(),o&&y()},f=function(){e=l.position().y-(window.innerHeight-l.height()),e=Math.max(0,e)},w=function(t){a&&e>0&&(s+=t.deltaY)},v=function(){a&&e>0&&m()},m=function(){s=Math.clamp(s,-e,0),r+=.2*(s-r),d.move(0,3*r),p.move(0,3*r),l.move(0,r),n&&n.move(0,.5*r),o&&o.move(0,.5*r)},g=function(n){e=0,s=0,r=0,m(),a=!0,t=Data.getProjectById(n),setTimeout(E,500)},E=function(){p.css("display","block"),c.css("display","block"),d.e().innerHTML=t.name,Loader.loadText(t.contentUrl,function(e){l.e().innerHTML=e;var t=l.select(".video .play"),n=l.select(".video video");Simplrz.touch&&n.css("display","none"),t&&(t.css("backgroundImage","url("+t.attr("data-src")+")"),t.on(Config.click,function(){n.css("display","block"),n.e().play(),t.css("display","none")})),n&&n.on("pause",function(){Simplrz.touch&&!n.webkitDisplayingFullscreen&&(n.css("display","none"),t.css("display","block"))}),h()});var e=[];if(t.deps.forEach(function(t){Simplrz[t]||e.push(t)}),window.innerWidth,window.innerHeight,"demo"==t.type&&0==e.length){var a=.8*window.innerHeight;n=Wrapper.create("iframe"),n.e().setAttribute("frameBorder","0"),n.on("load",function(){setTimeout(function(){n.css("opacity","1")},500)}),n.css("opacity","0"),n.css("height",a+"px"),u.e().appendChild(n.e()),n.e().contentWindow.location.replace(t.url)}else o=Wrapper.create("img"),i=Wrapper.create("div"),o.on("load",function(){i.css("backgroundColor","rgba(0, 0, 0, 0)"),f()}),y(),u.e().appendChild(o.e()),u.e().appendChild(i.e())},y=function(){var e=window.innerWidth,n=window.innerHeight;e>n||e>768?(o.css("width","100%"),o.css("height",e*(100/235)+"px"),i.css("width","100%"),i.css("height",e*(100/235)+"px"),o.e().src="assets/content/1920w-235as/"+t.id+".jpg"):(o.css("width","100%"),o.css("height",e+"px"),i.css("width","100%"),i.css("height",e+"px"),o.e().src="assets/content/871sq/"+t.id+".jpg")},C=function(){if(a=!1,l.e().innerHTML="",n){try{n.e().contentWindow.kill()}catch(e){}u.e().removeChild(n.e()),n=null}o&&(u.e().removeChild(o.e()),o=null),p.css("display","none"),c.css("display","none")};Broadcast.addClient(Msg.NAVIGATE,function(e){"project"==e.parts[0]?g(e.parts[1]):C()}),Broadcast.addClient(Msg.SCROLL,w),Broadcast.addClient(Msg.RENDER,v),Broadcast.addClient(Msg.RESIZE,h)},window.Box=function(e){e.id=e.attr("data-id");var t,n=e.select("div:nth-of-type(1)");e.select(".hover");var o=n.select(".mask"),i=n.select("img"),a=i.attr("data-tint"),r=e.attr("data-type"),s=window.innerWidth>768,c="project"==r?"675sq":"400sq",d="project"==r?"320sq":"200sq",l=s?c:d,u="assets/content/%f%/%id%.jpg".replace("%f%",l).replace("%id%",e.id);i.on("load",function(){Simplrz.touch&&(t=Wrapper.create("div"),t.attr("class","frame"),t.css("borderColor",a),n.e().appendChild(t.e())),o.css("backgroundColor","rgba(0, 0, 0, 0)")});var p=function(){var t=e.e().getBoundingClientRect();t.top<window.innerHeight&&(i.e().src=u,Broadcast.removeClient(Msg.RENDER,p))};return Broadcast.addClient(Msg.RENDER,p),e},window.Router=function(){var e,t,n=[],o=function(n){e=t+"#/"+n,document.location.href=e},i=function(){e=document.location.href;var o=e.indexOf("#"),i=o>-1?e.substring(o+1):"";t||(t=o>-1?e.substring(0,o):e),Broadcast.send(Msg.NAVIGATE,{history:n,parts:i.substring(1).split("/")}),n.push(i)};Broadcast.addClient(Msg.NAVIGATE,function(e){o(e.parts.join("/"))}),setInterval(function(){document.location.href!=e&&i()},100),i()};